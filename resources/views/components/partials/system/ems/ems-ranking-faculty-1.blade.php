<div class="tab-pane fade show active" id="content1" role="tabpanel">
  <table class="table table-bordered mt-5">
    <thead>
      <tr>
        <th>Job Factors</th>
        <th>Action</th>
        <th>Credit Points</th>
        <th>Weights</th>
      </tr>
    </thead>
    <tbody>
      <!-- I. ACADEMIC PREPARATION & OTHER QUALIFICATIONS -->
      <tr>
        <td><strong>I. ACADEMIC PREPARATION & Other Qualifications</strong></td>
        <td></td>
        <td><strong>100 POINTS</strong></td>
        <td><strong>x 30%</strong></td>
      </tr>
      <!-- A. Educational Degrees (cap 50 pts) -->
      <tr>
        <td><strong>A. Educational Degrees</strong></td>
        <td class="text-center"></td>
        <td class="text-center"><strong>(50 pts maximum)</strong></td>
        <td></td>
      </tr>
      <tr>
        <td>Bachelor's Degree</td>
        <td class="text-center"><input type="checkbox" name="edu" value="20"></td>
        <td class="text-center">20 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Academic Units towards Master's Degree (last 3 years) for every 6 Units<br><small>(Enter units in the field below)</small></td>
        <td>
          <input type="number" name="masters_academic_units" class="form-control" placeholder="Units">
        </td>
        <td class="text-center">6 units = 1 pt</td>
        <td></td>
      </tr>
      <tr>
        <td>MA/MS/MAT/MBA/MPM (Candidate): Completed Academic Requirements</td>
        <td class="text-center"><input type="checkbox" name="edu" value="25"></td>
        <td class="text-center">25 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Master's Thesis defended without S.O.</td>
        <td class="text-center"><input type="checkbox" name="edu" value="28"></td>
        <td class="text-center">28 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Full-fledged Master's Degree</td>
        <td class="text-center"><input type="checkbox" name="edu" value="30"></td>
        <td class="text-center">30 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Academic Units earned towards Doctorate Degree (last 3 years) for every 6 Units<br><small>(Enter units in the field below)</small></td>
        <td>
          <input type="number" name="doctorate_academic_units" class="form-control" placeholder="Units">
        </td>
        <td class="text-center">6 units = 1 pt</td>
        <td></td>
      </tr>
      <tr>
        <td>Ph.D./Ed.D. (Candidate): Completed Academic Requirements</td>
        <td class="text-center"><input type="checkbox" name="edu" value="40"></td>
        <td class="text-center">40 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Doctorate Dissertation defended without S.O.</td>
        <td class="text-center"><input type="checkbox" name="edu" value="45"></td>
        <td class="text-center">45 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Full-fledged Doctorate Degree</td>
        <td class="text-center"><input type="checkbox" name="edu" value="50"></td>
        <td class="text-center">50 pts</td>
        <td></td>
      </tr>
      <!-- B. Additional Degrees (cap 10 pts) -->
      <tr>
        <td><strong>B. Additional Degrees</strong></td>
        <td class="text-center"></td>
        <td class="text-center"><strong>(10 pts maximum)</strong></td>
        <td></td>
      </tr>
      <tr>
        <td>Another Bachelor's Degree</td>
        <td class="text-center"><input type="checkbox" name="additional" value="4"></td>
        <td class="text-center">4 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Another Master's Degree - Full Pledged</td>
        <td class="text-center"><input type="checkbox" name="additional" value="6"></td>
        <td class="text-center">6 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Another Doctorate Degree - Full Pledged</td>
        <td class="text-center"><input type="checkbox" name="additional" value="10"></td>
        <td class="text-center">10 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Two or more degrees</td>
        <td class="text-center"><input type="checkbox" name="additional" value="10"></td>
        <td class="text-center">10 pts</td>
        <td></td>
      </tr>
      <!-- C. Additional Training (cap 10 pts) -->
      <tr>
        <td><strong>C. Additional Training</strong></td>
        <td class="text-center"></td>
        <td class="text-center"><strong>(10 pts maximum)</strong></td>
        <td></td>
      </tr>
      <tr>
        <td>Advanced/Special training in related field (3 weeks maximum)</td>
        <td class="text-center"><input type="checkbox" name="training" value="2"></td>
        <td class="text-center">2 pts per training</td>
        <td></td>
      </tr>
      <tr>
        <td>Travel related to field/assignment and Scholarship/Study Grant (Domestic Abroad)</td>
        <td class="text-center"><input type="checkbox" name="training" value="5"></td>
        <td class="text-center">5 pts pro-rated</td>
        <td></td>
      </tr>
      <tr>
        <td>Seminars/Workshops/Conventions/Conferences (cumulative)<br><small>(Enter days attended below)</small></td>
        <td>
          <input type="number" name="seminars_workshops" class="form-control" placeholder="Days">
        </td>
        <td class="text-center">.33 pt per day (or 1 pt per 3 days)</td>
        <td></td>
      </tr>
      <tr>
        <td>18 units of Professional Education Subjects</td>
        <td class="text-center"><input type="checkbox" name="training" value="5"></td>
        <td class="text-center">5 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Plumbing Licenses</td>
        <td class="text-center"><input type="checkbox" name="training" value="5"></td>
        <td class="text-center">5 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Certificate of Completion</td>
        <td class="text-center"><input type="checkbox" name="training" value="3"></td>
        <td class="text-center">3 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>National Certificate</td>
        <td class="text-center"><input type="checkbox" name="training" value="5"></td>
        <td class="text-center">5 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Trainor's Methodology Certificate</td>
        <td class="text-center"><input type="checkbox" name="training" value="10"></td>
        <td class="text-center">10 pts</td>
        <td></td>
      </tr>
      <!-- D. Government Examinations (cap 20 pts) -->
      <tr>
        <td><strong>D. Government Examinations Passed/Eligibility</strong></td>
        <td class="text-center"></td>
        <td class="text-center"><strong>(20 pts maximum)</strong></td>
        <td></td>
      </tr>
      <tr>
        <td>Teachers Board (LET)</td>
        <td class="text-center"><input type="checkbox" name="exam" value="20"></td>
        <td class="text-center">20 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>CS Certification Eligibility/Career Professional</td>
        <td class="text-center"><input type="checkbox" name="exam" value="15"></td>
        <td class="text-center">15 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Bar/CPA/MD/DM/DV/Engineering etc.</td>
        <td class="text-center"><input type="checkbox" name="exam" value="20"></td>
        <td class="text-center">20 pts</td>
        <td></td>
      </tr>
      <!-- E. Academic Honors/Awards (cap 10 pts) -->
      <tr>
        <td><strong>E. Academic Honors/Awards Received</strong></td>
        <td class="text-center"></td>
        <td class="text-center"><strong>(10 pts maximum)</strong></td>
        <td></td>
      </tr>
      <tr>
        <td>Board/Bar Placer</td>
        <td class="text-center"><input type="checkbox" name="honor" value="10"></td>
        <td class="text-center">10 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Awards - Local</td>
        <td class="text-center"><input type="checkbox" name="honor" value="3"></td>
        <td class="text-center">3 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Awards - Regional</td>
        <td class="text-center"><input type="checkbox" name="honor" value="5"></td>
        <td class="text-center">5 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Awards - National/International</td>
        <td class="text-center"><input type="checkbox" name="honor" value="10"></td>
        <td class="text-center">10 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Summa Cum Laude</td>
        <td class="text-center"><input type="checkbox" name="honor" value="10"></td>
        <td class="text-center">10 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Magna Cum Laude</td>
        <td class="text-center"><input type="checkbox" name="honor" value="8"></td>
        <td class="text-center">8 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>Cum Laude</td>
        <td class="text-center"><input type="checkbox" name="honor" value="6"></td>
        <td class="text-center">6 pts</td>
        <td></td>
      </tr>
      <tr>
        <td>With Distinction</td>
        <td class="text-center"><input type="checkbox" name="honor" value="3"></td>
        <td class="text-center">3 pts</td>
        <td></td>
      </tr>
      <!-- Totals -->
      <tr>
        <td><strong>TOTAL CREDIT POINTS EARNED (I)</strong></td>
        <td></td>
        <td></td>
        <!-- Changed ID from totalPoints to totalPointsI -->
        <td id="totalPointsI"><strong>0</strong></td>
      </tr>
      <tr>
        <td><strong>TOTAL CREDIT POINTS EARNED x 30%</strong></td>
        <td></td>
        <td></td>
        <td id="totalPercentageI"><strong>0</strong></td>
      </tr>
    </tbody>
  </table>
</div>

<script>
document.addEventListener('DOMContentLoaded', function () {
  function calculateTotalPointsForm1() {
    let maxTotalPoints = 100; // Overall maximum for Form 1

    // Define caps for each category in Form 1
    let categoryCaps = {
      edu: 50,
      additional: 10,
      training: 10,
      exam: 20,
      honor: 10
    };

    // Initialize the sums for each category
    let categoryPoints = {
      edu: 0,
      additional: 0,
      training: 0,
      exam: 0,
      honor: 0
    };

    // Process checked checkboxes for each category in Form 1 (scope to #content1)
    document.querySelectorAll('#content1 input[type="checkbox"]:checked').forEach(function (checkbox) {
      let cat = checkbox.name; // Category the checkbox belongs to
      let val = parseInt(checkbox.value) || 0; // Value of the checkbox

      // Only add points if we haven't reached the cap in this category
      if (categoryPoints[cat] + val <= categoryCaps[cat]) {
        categoryPoints[cat] += val;
      } else {
        // If adding the full value exceeds the cap, only add the difference
        let diff = categoryCaps[cat] - categoryPoints[cat];
        if (diff > 0) {
          categoryPoints[cat] += diff;
        }
      }
    });

    // Process number inputs for units towards Master's or Doctorate degrees in Form 1 (scope to #content1)
    document.querySelectorAll('#content1 input[type="number"]').forEach(function (input) {
      let units = parseFloat(input.value) || 0;
      let points = units / 6; // 6 units = 1 pt

      // Add these points to the "edu" category without exceeding its cap
      if (categoryPoints.edu + points <= categoryCaps.edu) {
        categoryPoints.edu += points;
      } else {
        let diff = categoryCaps.edu - categoryPoints.edu;
        if (diff > 0) {
          categoryPoints.edu += diff;
        }
      }
    });

    // Sum total points from all categories
    let totalPoints = Object.values(categoryPoints).reduce((a, b) => a + b, 0);
    totalPoints = Math.min(totalPoints, maxTotalPoints); // Cap the total points if necessary

    // Update the totals in the DOM for Form 1
    document.getElementById('totalPointsI').innerText = totalPoints.toFixed(2);
    let totalPercentage = totalPoints * 0.30; // Weight of 30% for Form 1
    document.getElementById('totalPercentageI').innerText = totalPercentage.toFixed(2);
  }

  // Attach event listeners for checkboxes and number inputs in Form 1
  document.querySelectorAll('#content1 input[type="checkbox"], #content1 input[type="number"]').forEach(function (input) {
    input.addEventListener('change', calculateTotalPointsForm1);
  });

  // Initial calculation for Form 1
  calculateTotalPointsForm1();
});
</script>
